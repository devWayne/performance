#### 布局(Layout)

渲染树生成后，浏览器会从页面左上角开始迭代地计算出每个元素尺寸和位置，最终生成布局。这个过程可能是一气呵成的，但也可能由于元素的排列导致反复地绘制。元素间的位置关系都紧密相关。为了优化必要的任务，浏览器会追踪元素的变化情况，并将这些元素以及它们的子节点标记为 ‘dirty’（脏元素）。但是元素间耦合紧密，任何布局上的改变代价都是重大的，应该尽量避免。

#### 绘制(Paint)

生成布局后，浏览器将页面绘制到屏幕上。这个环节和「布局」步骤类似，浏览器会追踪脏元素，将它们合并到一个超大的矩形区域中。每一帧内只会发生一次重绘，用于绘制这个被污染区域。重绘也会消耗大量性能，能免则免。

#### 复合(Composite)

最后一步，将所有绘制好的元素进行复合。默认情况下，所有元素将会被绘制到同一个层中；如果将元素分开到不同的复合层中，更新元素对性能友好，不在同一层的元素不容易受到影响。CPU 绘制层，GPU 生成层。基础绘图操作在硬件加速合成中完成效率高。层的分离允许非破坏性的改变，正如你所猜测的，GPU 复合层上的改变代价最小性能消耗最少。

